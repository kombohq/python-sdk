# Connect
(*connect*)

## Overview

### Available Operations

* [create_connection_link](#create_connection_link) - Create connection link
* [get_integration_by_token](#get_integration_by_token) - Get integration by token

## create_connection_link

Generate a unique link that allows your user to enter the embedded Kombo Connect flow.

> Check out [our full guide](/connect/embedded-flow) for more details about implementing the connection flow into your app.

> Kombo will not deduplicate integrations for you that are created with this endpoint. You are responsible for keeping track of integrations in your system and prevent customers from connecting the same tool again. Use the [reconnection link](/v1/post-integrations-integration-id-relink) endpoint if you want a customer to update their credentials.

### Example Request Body

```json
{
  "end_user_email": "test@example.com",
  "end_user_organization_name": "Test Inc.",
  "integration_category": "HRIS",
  "integration_tool": "personio",
  "end_user_origin_id": "123",
  "language": "en",
  "link_type": "EMBEDDED"
}
```

### Example Usage

<!-- UsageSnippet language="python" operationID="PostConnectCreateLink" method="post" path="/connect/create-link" -->
```python
from kombo import SDK


with SDK(
    api_key="<YOUR_BEARER_TOKEN_HERE>",
) as sdk:

    res = sdk.connect.create_connection_link(end_user_email="test@example.com", end_user_organization_name="Test Inc.", end_user_origin_id="123", integration_category="HRIS", integration_tool="personio", language="en", enable_filtering=False, enable_field_mapping=False, link_type="EMBEDDED")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                                                                                                                                                                                                                                                                                                                                                                                                                | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Description                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `end_user_email`                                                                                                                                                                                                                                                                                                                                                                                                                                         | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                       | The email of the user this link is meant for.                                                                                                                                                                                                                                                                                                                                                                                                            |
| `end_user_organization_name`                                                                                                                                                                                                                                                                                                                                                                                                                             | *str*                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_check_mark:                                                                                                                                                                                                                                                                                                                                                                                                                                       | The name of the user's organization.                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `end_user_origin_id`                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | The id the user/organization has in your own database.                                                                                                                                                                                                                                                                                                                                                                                                   |
| `remote_environment`                                                                                                                                                                                                                                                                                                                                                                                                                                     | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | If the tool you want to connect offers different environments, you can specify which one you want to connect to here. If you don't specify this, we'll assume you want to use the production environment. Note that this can only be used if you've also specified a tool through `integration_tool`.                                                                                                                                                    |
| `integration_category`                                                                                                                                                                                                                                                                                                                                                                                                                                   | [Optional[models.PostConnectCreateLinkRequestBodyIntegrationCategory]](../../models/postconnectcreatelinkrequestbodyintegrationcategory.md)                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Category of the integration you want your customer to create.                                                                                                                                                                                                                                                                                                                                                                                            |
| `integration_tool`                                                                                                                                                                                                                                                                                                                                                                                                                                       | [OptionalNullable[models.IntegrationTool]](../../models/integrationtool.md)                                                                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Pre-define a tool this integration link can be used for.                                                                                                                                                                                                                                                                                                                                                                                                 |
| `language`                                                                                                                                                                                                                                                                                                                                                                                                                                               | [OptionalNullable[models.PostConnectCreateLinkRequestBodyLanguage]](../../models/postconnectcreatelinkrequestbodylanguage.md)                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Language of the connection flow UI.                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `scope_config_id`                                                                                                                                                                                                                                                                                                                                                                                                                                        | *OptionalNullable[str]*                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Specify a scope config that should be used for this integration. This is an advanced feature, only use it if you know what you're doing!                                                                                                                                                                                                                                                                                                                 |
| `enable_filtering`                                                                                                                                                                                                                                                                                                                                                                                                                                       | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Enable the [filtering feature](https://docs.kombo.dev/other/filtering) for the integration. HRIS only.                                                                                                                                                                                                                                                                                                                                                   |
| `enable_field_mapping`                                                                                                                                                                                                                                                                                                                                                                                                                                   | *Optional[bool]*                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Enable the [field mapping feature](https://docs.kombo.dev/hris/features/setup-flow/introduction#field-mapping) for this integration.                                                                                                                                                                                                                                                                                                                     |
| `link_type`                                                                                                                                                                                                                                                                                                                                                                                                                                              | [Optional[models.PostConnectCreateLinkRequestBodyLinkType]](../../models/postconnectcreatelinkrequestbodylinktype.md)                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | The type of link you want to create. `EMBEDDED` is for the [embedded flow](../guides/connect/embedded-flow) using the Kombo Connect SDK (these links are valid for 1 hour) and `MAGIC_LINK` is for [magic links](../guides/connect/magic-links) which you send out manually to customers (there are valid for 1 year).<br/><br/>This defaults to `EMBEDDED`, which is our recommended method of implementing the connection flow for a seamless user experience. |
| `retries`                                                                                                                                                                                                                                                                                                                                                                                                                                                | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                       | Configuration to override the default retry behavior of the client.                                                                                                                                                                                                                                                                                                                                                                                      |

### Response

**[models.PostConnectCreateLinkPositiveResponse](../../models/postconnectcreatelinkpositiveresponse.md)**

### Errors

| Error Type               | Status Code              | Content Type             |
| ------------------------ | ------------------------ | ------------------------ |
| errors.KomboGeneralError | default                  | application/json         |
| errors.SDKDefaultError   | 4XX, 5XX                 | \*/\*                    |

## get_integration_by_token

Use this endpoint with the token you get from the connection flow to retrieve information about the created integration.

  It works in a similar way as the OAuth2 code flow to securely retrieve information and connect the integration to your user.

> Check out [our full guide](/connect/embedded-flow) for more details about implementing the connection flow into your app.

This endpoint is used to ensure users can't trick your system connecting their
account in your system to another customers integration. You don't get the integration ID
from the `showKomboConnect(link)` function but only the short lived token used
for this endpoint so that users can't send you arbitrary data that you would put
into your system.

### Example Usage

<!-- UsageSnippet language="python" operationID="GetConnectIntegrationByTokenToken" method="get" path="/connect/integration-by-token/{token}" -->
```python
from kombo import SDK


with SDK(
    api_key="<YOUR_BEARER_TOKEN_HERE>",
) as sdk:

    res = sdk.connect.get_integration_by_token(token="<value>")

    # Handle response
    print(res)

```

### Parameters

| Parameter                                                           | Type                                                                | Required                                                            | Description                                                         |
| ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- | ------------------------------------------------------------------- |
| `token`                                                             | *str*                                                               | :heavy_check_mark:                                                  | GET /connect/integration-by-token/:token Parameter                  |
| `retries`                                                           | [Optional[utils.RetryConfig]](../../models/utils/retryconfig.md)    | :heavy_minus_sign:                                                  | Configuration to override the default retry behavior of the client. |

### Response

**[models.GetConnectIntegrationByTokenTokenPositiveResponse](../../models/getconnectintegrationbytokentokenpositiveresponse.md)**

### Errors

| Error Type               | Status Code              | Content Type             |
| ------------------------ | ------------------------ | ------------------------ |
| errors.KomboGeneralError | default                  | application/json         |
| errors.SDKDefaultError   | 4XX, 5XX                 | \*/\*                    |